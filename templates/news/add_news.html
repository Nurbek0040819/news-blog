{% extends 'base.html' %}
{% load static %}
{% block title %}Yangilik qo'shish — daily.news{% endblock %}

{% block content %}
<style>
.form-page { max-width: 780px; margin: 0 auto; }
.form-page-header { margin-bottom: 2rem; }
.page-label {
    display: inline-block; padding: .3rem .8rem;
    background: rgba(46,196,182,.12); border: 1px solid rgba(46,196,182,.25);
    border-radius: 40px; color: var(--accent-green);
    font-size: .75rem; font-weight: 600;
    letter-spacing: .08em; text-transform: uppercase; margin-bottom: .75rem;
}
.form-page-header h1 {
    font-family: 'Playfair Display', serif;
    font-size: 2.4rem; font-weight: 900; color: var(--text-primary);
}
.form-page-header h1 span { color: var(--accent-green); }

.form-card {
    background: rgba(255,255,255,.03);
    border: 1px solid var(--glass-border);
    border-radius: 20px; padding: 2rem;
    position: relative; overflow: hidden;
}
.form-card::before {
    content: '';
    position: absolute; top: 0; left: 0; right: 0; height: 2px;
    background: linear-gradient(90deg, var(--accent-green), var(--accent-gold));
}

.form-card p { margin-bottom: 1.25rem; }
.form-card label {
    display: block; color: var(--text-muted);
    font-size: .78rem; font-weight: 600;
    letter-spacing: .1em; text-transform: uppercase; margin-bottom: .45rem;
}
.form-card input[type="text"],
.form-card input[type="file"],
.form-card select {
    width: 100%;
    background: rgba(255,255,255,.04);
    border: 1px solid var(--glass-border);
    border-radius: 10px; padding: .75rem 1rem;
    color: var(--text-primary);
    font-family: 'DM Sans', sans-serif; font-size: .9rem;
    transition: all .25s; outline: none;
}
.form-card input:focus,
.form-card select:focus {
    border-color: var(--accent-green);
    background: rgba(46,196,182,.05);
    box-shadow: 0 0 0 3px rgba(46,196,182,.1);
}
.form-card select option { background: #12121a; }

/* CKEditor container styling */
.django-ckeditor-widget { width: 100% !important; }
.cke { border-radius: 10px !important; overflow: hidden; border-color: var(--glass-border) !important; }
.cke_top { background: #1a1a24 !important; border-bottom-color: var(--glass-border) !important; }
.cke_bottom { background: #1a1a24 !important; border-top-color: var(--glass-border) !important; }
.cke_editable { background: #12121a !important; color: var(--text-primary) !important; font-family: 'DM Sans', sans-serif !important; font-size: 15px !important; line-height: 1.8 !important; }

.btn-submit {
    width: 100%; padding: .85rem;
    background: linear-gradient(135deg, var(--accent-green), #1ea89e);
    border: none; border-radius: 10px;
    color: #0a0a0f; font-family: 'DM Sans', sans-serif;
    font-size: .95rem; font-weight: 700;
    cursor: pointer; transition: all .3s; margin-top: .5rem;
}
.btn-submit:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(46,196,182,.4); }

.errorlist {
    list-style: none; padding: .6rem 1rem;
    background: rgba(230,57,70,.1);
    border: 1px solid rgba(230,57,70,.25);
    border-radius: 8px; margin-bottom: 1rem;
}
.errorlist li { color: var(--accent-red); font-size: .85rem; }
</style>

<div class="form-page">
    <div class="form-page-header">
        <span class="page-label">✏️ Yangi maqola</span>
        <h1>Yangilik <span>qo'shish</span></h1>
    </div>
    <div class="form-card">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            {{ form.media }}
            <button type="submit" class="btn-submit">→ Nashr qilish</button>
        </form>
    </div>
</div>
{% endblock %}